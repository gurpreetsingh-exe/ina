// COMPILE_PASS

extern mod core;
using core::prelude::*;

fn main() {
    let _: i64 = match None {
        None => 10,
        Some(None) => 30,
        Some(Some(v)) => v,
    };
}
