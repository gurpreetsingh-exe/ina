impl str {
    fn len(self) -> usize {
        let slice = self.as_bytes();
        slice.len()
    }

    fn as_bytes(self) -> [u8] {
        mem::transmute(self)
    }

    fn as_ptr(&self) -> *u8 {
        *((self as *str) as **u8)
    }
}
